<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .bg-color {
        background: linear-gradient(#f0f, #f0f);
        background-repeat: no-repeat;
        background-position: 0 100%;
        background-size: 100% 8px;
      }
    </style>
  </head>
  <body>
    <svg width="200" height="250" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#ccc"></rect>
      <rect x="10" y="10" width="30" height="30" stroke="black" fill="transparent" stroke-width="5"></rect>
      <rect
        x="60"
        y="10"
        rx="5"
        ry="5"
        width="30"
        height="30"
        stroke="black"
        fill="transparent"
        stroke-width="5"></rect>
      <circle cx="25" cy="75" r="20" stroke="red" fill="transparent" stroke-width="5"></circle>
    </svg>
    <span class="bg-color">测试文本</span>
    <script>
      Function.prototype.myBind = function (...outArgs) {
        if (typeof this !== 'function') {
          throw new TypeError('what is trying to be bound is not callable')
        }
        const aArgs = outArgs.slice(1)
        const fToBind = this
        const fBound = function (...inArgs) {
          return fToBind.apply(this instanceof fBound && outArgs[0] ? this : outArgs[0], aArgs.concat(inArgs))
        }
        fBound.prototype = Object.create(this.prototype)
        return fBound
      }
      function foo() {
        console.log(this.a)
      }
      var a = 'global'

      const bar = foo.myBind(null, 3, 4, 5)
      bar() // global
      const barRes = new bar() // global

      const baz = foo.bind(null, 3, 4, 5)
      baz() // global
      const res = new baz() // undefined

      function foo(num) {
        console.log('foo: ' + num)
        this.count++
      }
      foo.count = 0
      var i = 0
      for (; i < 10; i++) {
        if (i > 5) {
          foo(i)
        }
      }
      // foo: 6
      // foo: 7
      // foo: 8
      // foo: 9
      console.log(foo.count) // 0 -- WTF?
      console.log(count) // NaN
    </script>
  </body>
</html>
